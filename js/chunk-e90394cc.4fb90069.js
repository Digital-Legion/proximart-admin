(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e90394cc"],{"1f8a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-edit-page"},[a("loading",{attrs:{active:t.loading,"can-cancel":!1,"is-full-page":!0},on:{"update:active":function(e){t.loading=e}}}),a("meta-form",{staticClass:"mb-20",attrs:{"data-updated":t.metaDataUpdated,"initial-data":t.meta,loading:t.metaLoading,url:"https://proximart.az"+("az"===t.activeLang?"/az":"")+"/catalog?cat="+t.categoryId},on:{submit:t.onMetaSubmit,"set-updated":function(e){t.metaDataUpdated=e}}})],1)},r=[],i=a("5530"),c=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("2f62")),d=a("20ca"),u={name:"CategoriesAddEdit",components:{MetaForm:function(){return Promise.all([a.e("chunk-418baf32"),a.e("chunk-1eb745b8")]).then(a.bind(null,"c5a9"))}},data:function(){return{name:"",nameAz:"",description:"",descriptionAz:"",alt:"",slug:"",slugAz:"",parent:null,image:null,imageFile:null,slugBasedOnName:!0,slugBasedOnNameAz:!0,meta:null,metaLoading:!1,nameError:"",nameAzError:"",descriptionError:"",descriptionAzError:"",slugError:"",imageError:"",altError:"",wait:!1,loading:!1,dataUpdated:!1,timer:null,timeLeftToUpdate:0,dontSendData:!1,metaDataUpdated:!1}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.categoryId){e.next=5;break}return t.loading=!0,e.next=4,t.fetchMeta(t.categoryId).then((function(e){var a=e.data;t.meta=a})).catch((function(e){console.error(e),t.$toasted.error(e.response.data.message),t.$router.push("/meta")}));case 4:t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["d"])(["activeLang","langs"])),Object(o["d"])("meta",["metas"])),{},{pageTitle:function(){return this.categoryId?"Editing meta ".concat("with id "+this.categoryId):"Creating a new meta"},categoryId:function(){return this.$route.params.id},filteredLangs:function(){var t=this;return this.langs.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{error:"ru"===e.title?t.defaultLangError:"az"===e.title&&t.azLangError})}))}}),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["c"])(["setActiveLang"])),Object(o["b"])("meta",["fetchMetas","fetchMeta","updateMeta"])),{},{onDataUpdate:Object(d["a"])((function(){this.dataUpdated=!1,null===this.timer&&this.submit()}),11e3),onMetaSubmit:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.id=e.categoryId,e.metaLoading){a.next=6;break}return e.metaLoading=!0,a.next=5,e.updateMeta(Object(i["a"])({},t)).then((function(t){e.meta=null===t||void 0===t?void 0:t.data,e.$toasted.success("Meta was successfully saved"),e.metaDataUpdated=!1})).catch((function(t){console.error(t),e.$toasted.error(t.response.data.message)}));case 5:e.metaLoading=!1;case 6:case"end":return a.stop()}}),a)})))()}}),beforeRouteLeave:function(t,e,a){this.dontSendData=!0,clearTimeout(this.timer),this.dataUpdated=!1,a()}},s=u,l=(a("c9e6"),a("2877")),m=Object(l["a"])(s,n,r,!1,null,null,null);e["default"]=m.exports},"20ca":function(t,e,a){"use strict";function n(t,e,a){var n;return function(){var r=this,i=arguments,c=function(){n=null,a||t.apply(r,i)},o=a&&!n;clearTimeout(n),n=setTimeout(c,e),o&&t.apply(r,i)}}a.d(e,"a",(function(){return n}))},c9e6:function(t,e,a){"use strict";a("efbb")},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,i=a("1dde"),c=i("map");n({target:"Array",proto:!0,forced:!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},efbb:function(t,e,a){}}]);
//# sourceMappingURL=chunk-e90394cc.4fb90069.js.map