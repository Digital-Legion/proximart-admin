{"version":3,"sources":["webpack:///./src/pages/orders/order.vue?b9fb","webpack:///./src/pages/orders/order.vue?87b5","webpack:///src/pages/orders/order.vue","webpack:///./src/pages/orders/order.vue?a73c","webpack:///./src/pages/orders/order.vue?4342"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","on","$event","pageTitle","wait","onRemove","_v","scopedSlots","_u","key","fn","_l","order","product","id","proxy","name","_e","phone","address","entrance","orderType","paymentMethod","total","floor","staticRenderFns","components","PageHeader","PageBox","CustomInput","OrderProduct","data","computed","orderId","$route","params","methods","$confirm","confirmButtonText","cancelButtonText","type","component"],"mappings":"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","file":"js/chunk-04824016.57b92682.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/src/index.js!./order.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-edit-page\"},[_c('loading',{attrs:{\"active\":_vm.loading,\"can-cancel\":false,\"is-full-page\":true},on:{\"update:active\":function($event){_vm.loading=$event}}}),_c('page-header',{attrs:{\"title\":_vm.pageTitle}},[_c('button',{staticClass:\"g-button g-button--danger\",attrs:{\"disabled\":_vm.wait},on:{\"click\":_vm.onRemove}},[_c('font-awesome-icon',{attrs:{\"icon\":\"trash\"}}),_c('span',[_vm._v(\"Remove\")])],1)]),(_vm.order)?_c('page-box',{attrs:{\"double\":true},scopedSlots:_vm._u([{key:\"bottom-content\",fn:function(){return [_c('div',{staticClass:\"order-product-list\"},_vm._l((_vm.order.products),function(product){return _c('OrderProduct',{key:product.id,attrs:{\"product\":product}})}),1)]},proxy:true}],null,false,3351261014)},[_c('div',{staticClass:\"add-edit-page__left\"},[(_vm.order.name)?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"value\":_vm.order.name,\"label\":\"Client\",\"readonly\":true}}):_vm._e(),(_vm.order.phone)?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"value\":_vm.order.phone,\"label\":\"Phone\",\"readonly\":true}}):_vm._e(),(_vm.order.address)?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"value\":_vm.order.address,\"label\":\"Address\",\"readonly\":true}}):_vm._e(),(_vm.order.entrance)?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"value\":_vm.order.entrance,\"label\":\"Entrance\",\"readonly\":true}}):_vm._e()],1),_c('div',{staticClass:\"add-edit-page__right\"},[(_vm.orderType)?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"value\":_vm.orderType,\"placeholder\":\"Order Type\",\"label\":\"Order type\",\"readonly\":true}}):_vm._e(),(_vm.paymentMethod)?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"value\":_vm.paymentMethod,\"label\":\"Payment Method\",\"readonly\":true}}):_vm._e(),(_vm.order.total)?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"value\":_vm.order.total + ' AZN',\"label\":\"Total\",\"readonly\":true}}):_vm._e(),(_vm.order.floor)?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"value\":_vm.order.floor,\"label\":\"Floor\",\"readonly\":true}}):_vm._e()],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"add-edit-page\">\n    <loading\n      :active.sync=\"loading\"\n      :can-cancel=\"false\"\n      :is-full-page=\"true\"\n    />\n\n    <page-header :title=\"pageTitle\">\n      <button class=\"g-button g-button--danger\" @click=\"onRemove\" :disabled=\"wait\">\n        <font-awesome-icon icon=\"trash\" />\n        <span>Remove</span>\n      </button>\n    </page-header>\n    <page-box :double=\"true\" v-if=\"order\">\n      <div class=\"add-edit-page__left\">\n        <custom-input\n          v-if=\"order.name\"\n          :value=\"order.name\"\n          class=\"mb-20\"\n          label=\"Client\"\n          :readonly=\"true\"\n        />\n        <custom-input\n          v-if=\"order.phone\"\n          :value=\"order.phone\"\n          class=\"mb-20\"\n          label=\"Phone\"\n          :readonly=\"true\"\n        />\n        <custom-input\n          v-if=\"order.address\"\n          :value=\"order.address\"\n          class=\"mb-20\"\n          label=\"Address\"\n          :readonly=\"true\"\n        />\n        <custom-input\n          v-if=\"order.entrance\"\n          :value=\"order.entrance\"\n          class=\"mb-20\"\n          label=\"Entrance\"\n          :readonly=\"true\"\n        />\n      </div>\n      <div class=\"add-edit-page__right\">\n        <custom-input\n          v-if=\"orderType\"\n          :value=\"orderType\"\n          placeholder=\"Order Type\"\n          class=\"mb-20\"\n          label=\"Order type\"\n          :readonly=\"true\"\n        />\n        <custom-input\n          v-if=\"paymentMethod\"\n          :value=\"paymentMethod\"\n          class=\"mb-20\"\n          label=\"Payment Method\"\n          :readonly=\"true\"\n        />\n        <custom-input\n          v-if=\"order.total\"\n          :value=\"order.total + ' AZN'\"\n          class=\"mb-20\"\n          label=\"Total\"\n          :readonly=\"true\"\n        />\n        <custom-input\n          v-if=\"order.floor\"\n          :value=\"order.floor\"\n          class=\"mb-20\"\n          label=\"Floor\"\n          :readonly=\"true\"\n        />\n      </div>\n\n      <template v-slot:bottom-content>\n        <div class=\"order-product-list\">\n          <OrderProduct v-for=\"product in order.products\" :product=\"product\" :key=\"product.id\" />\n        </div>\n      </template>\n    </page-box>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'Order',\n\n  components: {\n    PageHeader: () => import('@/components/PageHeader'),\n    PageBox: () => import('@/components/PageBox'),\n    CustomInput: () => import('@/components/CustomInput'),\n    OrderProduct: () => import('@/containers/orders/OrderProduct')\n  },\n\n  data () {\n    return {\n      order: null,\n      loading: false,\n      wait: false\n    }\n  },\n\n  async mounted () {\n    this.loading = true\n    await this.fetchOrder(this.orderId)\n      .then(res => {\n        this.order = res.data\n      })\n      .catch(e => {\n        console.error(e)\n        this.$toasted.error(e.response.data.message)\n      })\n    this.loading = false\n  },\n\n  computed: {\n    orderId () {\n      return this.$route.params.id\n    },\n\n    pageTitle () {\n      return `Order #${this.orderId}`\n    },\n\n    orderType () {\n      let orderType\n\n      if (this.order?.order_type === 'order') orderType = 'Order'\n      else if (this.order?.order_type === 'pre-order') orderType = 'Preorder'\n      else if (this.order?.order_type === 'buy_in_one_click') orderType = 'Buy in one click'\n\n      return orderType\n    },\n\n    paymentMethod () {\n      let paymentMethod\n\n      if (this.order?.by_with === 'card') paymentMethod = 'Card'\n      else if (this.order?.by_with === 'cash') paymentMethod = 'Cash'\n\n      return paymentMethod\n    }\n  },\n\n  methods: {\n    ...mapActions('orders', ['fetchOrder', 'removeOrder']),\n\n    onRemove () {\n      this.$confirm('This will permanently delete the order. Continue?', 'Confirmation', {\n        confirmButtonText: 'Remove',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(async () => {\n        this.wait = true\n        await this.removeOrder(this.orderId)\n          .then(() => {\n            this.$message({\n              type: 'success',\n              message: `Order with id ${this.orderId} was removed`\n            })\n            // eslint-disable-next-line\n            this.$router.push('/orders')?.catch(() => {})\n          })\n          .catch(e => {\n            console.error(e)\n            this.$message({\n              type: 'error',\n              message: e.response.data.message\n            })\n          })\n        this.wait = false\n      }).catch(() => {})\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/styles/pages/add-edit.scss';\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/src/index.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/src/index.js!./order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./order.vue?vue&type=template&id=20bee944&\"\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}