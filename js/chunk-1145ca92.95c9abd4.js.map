{"version":3,"sources":["webpack:///./src/pages/parameters/index.vue?25e3","webpack:///src/pages/parameters/index.vue","webpack:///./src/pages/parameters/index.vue?426f","webpack:///./src/pages/parameters/index.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","category","name","on","onCreateDialog","page","$event","onEditDialog","dialogTitle","dialogVisible","activeLang","filteredLangs","setActiveLang","model","value","callback","$$v","expression","nameAz","_e","dialogType","onCreate","_v","onEdit","staticRenderFns","components","PageHeader","PageTabs","PageBox","ParametersTable","CustomInput","data","computed","langs","map","methods","item","name__az","id","createParameter","updateParameter","component","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-1145ca92.95c9abd4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"parameters-page\"},[_c('page-header',{attrs:{\"title\":(\"Parameters of \" + (_vm.category ? _vm.category.name : ''))}},[_c('button',{staticClass:\"g-button g-button--icon\",on:{\"click\":_vm.onCreateDialog}},[_c('font-awesome-icon',{attrs:{\"icon\":\"plus\"}})],1)]),_c('page-box',[_c('parameters-table',{attrs:{\"page\":_vm.page},on:{\"set-page\":function($event){_vm.page = $event},\"edit-parameter\":_vm.onEditDialog}})],1),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('page-tabs',{attrs:{\"value\":_vm.activeLang,\"options\":_vm.filteredLangs},on:{\"input\":_vm.setActiveLang}}),(_vm.activeLang === 'ru')?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"label\":\"Name\",\"placeholder\":\"Enter placeholder's name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}):(_vm.activeLang === 'az')?_c('custom-input',{staticClass:\"mb-20\",attrs:{\"label\":\"Name\",\"placeholder\":\"Enter placeholder's name\"},model:{value:(_vm.nameAz),callback:function ($$v) {_vm.nameAz=$$v},expression:\"nameAz\"}}):_vm._e(),(_vm.dialogType === 'create')?_c('button',{staticClass:\"g-button\",on:{\"click\":_vm.onCreate}},[_vm._v(\"Create\")]):(_vm.dialogType === 'edit')?_c('button',{staticClass:\"g-button\",on:{\"click\":_vm.onEdit}},[_vm._v(\"Update\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"parameters-page\">\n    <page-header :title=\"`Parameters of ${category ? category.name : ''}`\">\n      <button class=\"g-button g-button--icon\" @click=\"onCreateDialog\">\n        <font-awesome-icon icon=\"plus\" />\n      </button>\n    </page-header>\n    <page-box>\n      <parameters-table :page=\"page\" @set-page=\"page = $event\" @edit-parameter=\"onEditDialog\" />\n    </page-box>\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\">\n      <page-tabs @input=\"setActiveLang\" :value=\"activeLang\" :options=\"filteredLangs\" />\n      <custom-input\n        v-if=\"activeLang === 'ru'\"\n        v-model=\"name\"\n        label=\"Name\"\n        placeholder=\"Enter placeholder's name\"\n        class=\"mb-20\"\n      />\n      <custom-input\n        v-else-if=\"activeLang === 'az'\"\n        v-model=\"nameAz\"\n        label=\"Name\"\n        placeholder=\"Enter placeholder's name\"\n        class=\"mb-20\"\n      />\n      <button class=\"g-button\" @click=\"onCreate\" v-if=\"dialogType === 'create'\">Create</button>\n      <button class=\"g-button\" @click=\"onEdit\" v-else-if=\"dialogType === 'edit'\">Update</button>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState, mapMutations } from 'vuex'\n\nexport default {\n  name: 'Categories',\n\n  components: {\n    PageHeader: () => import('@/components/PageHeader'),\n    PageTabs: () => import('@/components/PageTabs'),\n    PageBox: () => import('@/components/PageBox'),\n    ParametersTable: () => import('@/containers/parameters/Table'),\n    CustomInput: () => import('@/components/CustomInput')\n  },\n\n  data () {\n    return {\n      category: null,\n      dialogVisible: false,\n      page: 1,\n\n      name: '',\n      nameAz: '',\n      dialogTitle: '',\n      dialogType: ''\n    }\n  },\n\n  async created () {\n    await this.fetchCategory(this.$route.params.id)\n      .then(res => {\n        this.category = res.data\n      })\n      .catch(e => {\n        console.error(e)\n        this.$router.push('/categories')\n      })\n  },\n\n  computed: {\n    ...mapState(['activeLang', 'langs']),\n\n    filteredLangs () {\n      return this.langs.map(lang => ({\n        ...lang,\n        error: lang.title === 'ru' ? this.defaultLangError : (lang.title === 'az' ? this.azLangError : false)\n      }))\n    }\n  },\n\n  methods: {\n    ...mapMutations(['setActiveLang']),\n    ...mapActions('categories', ['fetchCategory']),\n    ...mapActions('parameters', ['createParameter', 'fetchParameters', 'updateParameter']),\n\n    onCreateDialog () {\n      this.dialogTitle = 'Creating a new parameter'\n      this.dialogType = 'create'\n      this.dialogVisible = true\n    },\n\n    onEditDialog (item) {\n      this.dialogTitle = `Updating the parameter ${item.name}`\n      this.dialogType = 'edit'\n      this.name = item.name\n      this.nameAz = item.name__az\n      this.dialogVisible = true\n    },\n\n    onCreate () {\n      const data = {\n        name: this.name,\n        name__az: this.nameAz,\n        category: this.category.id\n      }\n\n      this.createParameter(data)\n        .then(() => {\n          this.$toasted.success(`The new parameter ${this.name} was created`)\n          this.name = ''\n          this.nameAz = ''\n          if (this.page !== 1)\n            this.page = 1\n          else {\n            this.fetchParameters({\n              page: this.page,\n              categoryId: this.category.id\n            })\n          }\n        })\n        .catch(e => {\n          console.error(e)\n          this.$toasted.error(e.response.data.message)\n        })\n    },\n\n    onEdit () {\n      const data = {\n        name: this.name,\n        name__az: this.nameAz,\n        category: this.category.id\n      }\n\n      this.updateParameter({ data, id: this.category.id })\n        .then(() => {\n          this.$toasted.success(`The parameter ${this.name} was updated`)\n          this.name = ''\n          this.nameAz = ''\n          if (this.page !== 1)\n            this.page = 1\n          else {\n            this.fetchParameters({\n              page: this.page,\n              categoryId: this.category.id\n            })\n          }\n        })\n        .catch(e => {\n          console.error(e)\n          this.$toasted.error(e.response.data.message)\n        })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/src/index.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/src/index.js!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=74e91f14&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}